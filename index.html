<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام إدارة المخازن</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img src="assets/img/logo.png" alt="شعار نظام المخازن">
                    <h2>نظام المخازن</h2>
                </div>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="active">
                        <a href="#" data-section="dashboard">
                            <div class="icon-wrapper"><img src="assets/img/dashboard-icon.png" alt="لوحة التحكم"></div>
                            <span>لوحة التحكم</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="operations">
                            <div class="icon-wrapper"><img src="assets/img/operations-icon.png" alt="العمليات"></div>
                            <span>العمليات</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="inventory">
                            <div class="icon-wrapper"><img src="assets/img/inventory-icon.png" alt="المخزون"></div>
                            <span>المخزون</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="reports">
                            <div class="icon-wrapper"><img src="assets/img/reports-icon.png" alt="التقارير"></div>
                            <span>التقارير</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="settings">
                            <div class="icon-wrapper"><img src="assets/img/settings-icon.png" alt="الإعدادات"></div>
                            <span>الإعدادات</span>
                        </a>
                    </li>
                    <li class="logout-item">
                        <a href="#">
                            <div class="icon-wrapper"><img src="assets/img/logout-icon.png" alt="تسجيل الخروج"></div>
                            <span>تسجيل الخروج</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="main-content" id="main-content">
            <!-- Top Bar -->
            <div class="topbar">
                <div class="topbar-left">
                    <button id="sidebarToggle" class="menu-toggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="page-title">
                        <h1 id="currentPageTitle">لوحة التحكم</h1>
                    </div>
                </div>
                <div class="topbar-right">
                    <div class="role-selector">
                        <label for="userRoleSelector">الصلاحية الحالية:</label>
                        <select id="userRoleSelector">
                            <option value="dean">عميد الكلية</option>
                            <option value="director">مدير الكلية</option>
                            <option value="storekeeper">أمين المخزن</option>
                            <option value="staff">موظف المخازن</option>
                        </select>
                    </div>
                    <div class="avatar">
                        <img src="assets/img/user-avatar.png" alt="صورة المستخدم">
                    </div>
                </div>
            </div>

            <!-- Page Content -->
            <main>
                <!-- Dashboard Section -->
                <section id="dashboard-section">
                    <!-- Dashboard content goes here -->
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-icon green">
                                <i class="fas fa-cubes"></i>
                            </div>
                            <div class="stat-details">
                                <h3>إجمالي الأصناف</h3>
                                <span class="stat-number" id="total-count">0</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon blue">
                                <i class="fas fa-desktop"></i>
                            </div>
                            <div class="stat-details">
                                <h3>المخزن المستديم</h3>
                                <span class="stat-number" id="durable-count">0</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon orange">
                                <i class="fas fa-box-open"></i>
                            </div>
                            <div class="stat-details">
                                <h3>المخزن المستهلك</h3>
                                <span class="stat-number" id="consumable-count">0</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon red">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="stat-details">
                                <h3>المخزون المنخفض</h3>
                                <span class="stat-number" id="low-stock-count">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="operations-card">
                            <h3>العمليات السريعة</h3>
                            <div class="operations-buttons">
                                <button class="operation-btn add-btn">
                                    <i class="fas fa-plus"></i>
                                    <span>إضافة</span>
                                </button>
                                <button class="operation-btn withdraw-btn">
                                    <i class="fas fa-minus"></i>
                                    <span>سحب</span>
                                </button>
                                <button class="operation-btn return-btn">
                                    <i class="fas fa-redo-alt"></i>
                                    <span>إسترجاع</span>
                                </button>
                                <button class="operation-btn transfer-btn">
                                    <i class="fas fa-exchange-alt"></i>
                                    <span>نقل</span>
                                </button>
                                <button class="operation-btn dispose-btn">
                                    <i class="fas fa-trash-alt"></i>
                                    <span>إتلاف</span>
                                </button>
                            </div>
                        </div>

                        <div class="recent-activities">
                            <h3>آخر العمليات</h3>
                            <div class="table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>رقم العملية</th>
                                            <th>نوع العملية</th>
                                            <th>المخزن</th>
                                            <th>الصنف</th>
                                            <th>الكمية</th>
                                            <th>التاريخ</th>
                                            <th>المستخدم</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Recent operations will be added here dynamically -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Operations Section -->
                <section id="operations-section" class="hidden">
                    <!-- Operations content goes here -->
                    <div class="operations-header">
                        <h2>عمليات المخازن</h2>
                        <div class="operations-options">
                            <h3>نوع العملية:</h3>
                            <div class="options-container">
                                <div class="operation-option add-option active" data-operation="add">
                                    <i class="fas fa-plus"></i>
                                    <span>إضافة</span>
                                </div>
                                <div class="operation-option withdraw-option" data-operation="withdraw">
                                    <i class="fas fa-minus"></i>
                                    <span>سحب</span>
                                </div>
                                <div class="operation-option return-option" data-operation="return">
                                    <i class="fas fa-redo-alt"></i>
                                    <span>إسترجاع</span>
                                </div>
                                <div class="operation-option transfer-option" data-operation="transfer">
                                    <i class="fas fa-exchange-alt"></i>
                                    <span>نقل</span>
                                </div>
                                <div class="operation-option dispose-option" data-operation="dispose">
                                    <i class="fas fa-trash-alt"></i>
                                    <span>إتلاف</span>
                                </div>
                            </div>
                        </div>
                        <div class="warehouse-options">
                            <h3>المخزن:</h3>
                            <div class="options-container">
                                <div class="warehouse-option durable-option active" data-warehouse="durable">
                                    <i class="fas fa-desktop"></i>
                                    <span>المستديم</span>
                                </div>
                                <div class="warehouse-option consumable-option" data-warehouse="consumable">
                                    <i class="fas fa-box-open"></i>
                                    <span>المستهلك</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <form id="inventoryOperationForm" class="form-vertical">
                            <div class="form-row">
                                <div class="col">
                                    <label for="itemCode">رقم الصنف</label>
                                    <input type="text" id="itemCode" required>
                                </div>
                                <div class="col">
                                    <label for="itemName">اسم الصنف</label>
                                    <input type="text" id="itemName" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <label for="itemQuantity">الكمية</label>
                                    <input type="number" id="itemQuantity" min="1" required>
                                </div>
                                <div class="col">
                                    <label for="itemUnit">الوحدة</label>
                                    <select id="itemUnit" required>
                                        <option value="قطعة">قطعة</option>
                                        <option value="جهاز">جهاز</option>
                                        <option value="رزمة">رزمة</option>
                                        <option value="عبوة">عبوة</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col full-width">
                                    <label for="operationNotes">ملاحظات</label>
                                    <textarea id="operationNotes" rows="3"></textarea>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn-primary">تنفيذ العملية</button>
                                <button type="reset" class="btn-secondary">مسح البيانات</button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Inventory Section -->
                <section id="inventory-section" class="hidden">
                    <!-- Inventory content goes here -->
                    <div class="inventory-header">
                        <h2>المخزون: <span class="warehouse-name">المستديم</span></h2>
                        <div class="warehouse-tabs">
                            <div class="warehouse-tab durable-tab active" data-warehouse="durable">المستديم</div>
                            <div class="warehouse-tab consumable-tab" data-warehouse="consumable">المستهلك</div>
                            <div class="warehouse-tab damaged-tab" data-warehouse="damaged">التالف</div>
                        </div>
                    </div>

                    <div class="content-card">
                        <div class="inventory-search">
                            <input type="text" id="inventorySearch" placeholder="ابحث عن صنف...">
                            <i class="fas fa-search"></i>
                        </div>

                        <div class="table-container">
                            <table class="inventory-table">
                                <thead>
                                    <tr>
                                        <th>رقم الصنف</th>
                                        <th>اسم الصنف</th>
                                        <th>الكمية</th>
                                        <th>الوحدة</th>
                                        <th>آخر تحديث</th>
                                        <th>الحالة</th>
                                        <th>الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Inventory items will be added here dynamically -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Reports Section -->
                <section id="reports-section" class="hidden">
                    <!-- Reports content goes here -->
                    <h2>التقارير</h2>
                    <div class="reports-container">
                        <div class="reports-sidebar">
                            <h3>إعدادات التقرير</h3>
                            <form id="reportSettingsForm" class="form-vertical">
                                <div class="form-row">
                                    <label for="report-type">نوع التقرير</label>
                                    <select id="report-type" required>
                                        <option value="inventory-status">حالة المخزون</option>
                                        <option value="operations-summary">ملخص العمليات</option>
                                        <option value="item-movement">حركة الأصناف</option>
                                        <option value="low-stock">الأصناف منخفضة المخزون</option>
                                    </select>
                                </div>
                                <div class="form-row">
                                    <label for="warehouse-filter">المخزن</label>
                                    <select id="warehouse-filter">
                                        <option value="all">كل المخازن</option>
                                        <option value="durable">المستديم</option>
                                        <option value="consumable">المستهلك</option>
                                        <option value="damaged">التالف</option>
                                    </select>
                                </div>
                                <div class="form-row date-range">
                                    <label>الفترة</label>
                                    <div class="date-inputs">
                                        <div>
                                            <label for="date-from">من</label>
                                            <input type="date" id="date-from">
                                        </div>
                                        <div>
                                            <label for="date-to">إلى</label>
                                            <input type="date" id="date-to">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button type="button" id="generate-report" class="btn-primary">
                                        <i class="fas fa-sync-alt"></i>
                                        توليد التقرير
                                    </button>
                                </div>
                                <div class="report-export-options">
                                    <button type="button" id="export-report" class="btn-secondary">
                                        <i class="fas fa-file-pdf"></i>
                                        تصدير PDF
                                    </button>
                                    <button type="button" id="print-report" class="btn-secondary">
                                        <i class="fas fa-print"></i>
                                        طباعة
                                    </button>
                                </div>
                            </form>
                        </div>
                        <div class="report-preview">
                            <div class="report-header">
                                <h3 id="report-title">تقرير حالة المخزون</h3>
                                <p id="report-date">التاريخ: 2025/04/09</p>
                            </div>
                            <div id="report-content" class="report-content">
                                <!-- Report content will be dynamically generated here -->
                                <div id="report-chart-container">
                                    <canvas id="report-chart"></canvas>
                                </div>
                                <div id="report-summary">
                                    <!-- Report summary will be dynamically generated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Settings Section -->
                <section id="settings-section" class="hidden">
                    <!-- Settings content goes here -->
                    <h2>الإعدادات</h2>
                    <div class="content-card">
                        <div class="tab-navigation">
                            <button class="active" data-tab="general">إعدادات عامة</button>
                            <button data-tab="account">إعدادات الحساب</button>
                            <button data-tab="notifications">الإشعارات</button>
                        </div>
                        <div class="tab-content">
                            <form id="generalSettingsForm" class="form-vertical">
                                <h3>الإعدادات العامة</h3>
                                <div class="form-row">
                                    <div class="col">
                                        <label for="system-name">اسم النظام</label>
                                        <input type="text" id="system-name" value="نظام إدارة المخازن">
                                    </div>
                                    <div class="col">
                                        <label for="system-logo">شعار النظام</label>
                                        <input type="file" id="system-logo" accept="image/*">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col">
                                        <label for="items-per-page">عدد العناصر في الصفحة</label>
                                        <select id="items-per-page">
                                            <option value="10">10</option>
                                            <option value="20">20</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                        </select>
                                    </div>
                                    <div class="col">
                                        <label for="theme-selector">سمة النظام</label>
                                        <select id="theme-selector">
                                            <option value="light">الوضع النهاري</option>
                                            <option value="dark">الوضع الليلي</option>
                                            <option value="auto">تلقائي (حسب إعدادات النظام)</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn-primary">
                                        <i class="fas fa-save"></i>
                                        حفظ الإعدادات
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>

                <!-- Logs Section -->
                <section id="logs-section" class="hidden">
                    <!-- Logs content goes here -->
                    <h2>سجل العمليات</h2>
                    <div class="content-card">
                        <div class="log-filters">
                            <div class="filter-group">
                                <label for="log-operation">نوع العملية</label>
                                <select id="log-operation">
                                    <option value="all">الكل</option>
                                    <option value="add">إضافة</option>
                                    <option value="withdraw">سحب</option>
                                    <option value="return">إسترجاع</option>
                                    <option value="transfer">نقل</option>
                                    <option value="dispose">إتلاف</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="log-warehouse">المخزن</label>
                                <select id="log-warehouse">
                                    <option value="all">الكل</option>
                                    <option value="durable">المستديم</option>
                                    <option value="consumable">المستهلك</option>
                                    <option value="damaged">التالف</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="log-date-from">من تاريخ</label>
                                <input type="date" id="log-date-from">
                            </div>
                            <div class="filter-group">
                                <label for="log-date-to">إلى تاريخ</label>
                                <input type="date" id="log-date-to">
                            </div>
                            <div class="filter-group">
                                <label for="log-search">بحث</label>
                                <input type="text" id="log-search" placeholder="ابحث عن صنف...">
                            </div>
                            <div class="filter-actions">
                                <button id="apply-log-filters" class="btn-primary">تطبيق</button>
                                <button id="reset-log-filters" class="btn-secondary">إعادة تعيين</button>
                            </div>
                        </div>
                        <div class="table-container">
                            <table class="logs-table">
                                <thead>
                                    <tr>
                                        <th>رقم العملية</th>
                                        <th>نوع العملية</th>
                                        <th>المخزن</th>
                                        <th>الصنف</th>
                                        <th>الكمية</th>
                                        <th>التاريخ</th>
                                        <th>المستخدم</th>
                                        <th>الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody id="logs-table-body">
                                    <!-- Logs will be populated dynamically -->
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination">
                            <button class="page-btn" data-page="prev" disabled>السابق</button>
                            <span id="page-info">صفحة <span id="current-page">1</span> من <span id="total-pages">1</span></span>
                            <button class="page-btn" data-page="next">التالي</button>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Import scripts using ES modules -->
    <script type="module" src="js/app.js"></script>
</body>
</html>